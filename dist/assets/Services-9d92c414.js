import{R as o,u as b,a as j,j as i,F as p,f as h}from"./index-f58f8d7f.js";import{E as w}from"./index-c348fb4c.js";import{s as y}from"./image3-6397b8ec.js";function m(){return m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},m.apply(this,arguments)}function E(t,e){if(t==null)return{};var s={},n=Object.keys(t),l,a;for(a=0;a<n.length;a++)l=n[a],!(e.indexOf(l)>=0)&&(s[l]=t[l]);return s}const f={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},L=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"];function N(t,e){if(!t||typeof t!="object")return t;const s={};return Object.keys(t).forEach(n=>{e.indexOf(n)>-1||(s[n]=t[n])}),s}const O=["component","ellipsis","trimRight","className"];function v(t,e){for(;t&&e--;)t=t.previousElementSibling;return t}const x={basedOn:void 0,className:"",component:"div",ellipsis:"â€¦",maxLine:1,onReflow(){},text:"",trimRight:!0,winWidth:void 0},S=Object.keys(x);class c extends o.Component{constructor(e){super(e),this.state={text:e.text,clamped:!1},this.units=[],this.maxLine=0,this.canvas=null}componentDidMount(){this.initCanvas(),this.reflow(this.props)}componentDidUpdate(e){e.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.props!==e&&this.reflow(this.props)}componentWillUnmount(){this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}setState(e,s){return typeof e.clamped<"u"&&(this.clamped=e.clamped),super.setState(e,s)}initCanvas(){if(this.canvas)return;const e=this.canvas=document.createElement("div");e.className=`LinesEllipsis-canvas ${this.props.className}`,e.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(f).forEach(s=>{e.style[s]=f[s]}),document.body.appendChild(e)}copyStyleToCanvas(){const e=window.getComputedStyle(this.target);L.forEach(s=>{this.canvas.style[s]=e[s]})}reflow(e){const s=e.basedOn||(/^[\x00-\x7F]+$/.test(e.text)?"words":"letters");switch(s){case"words":this.units=e.text.split(/\b|(?=\W)/);break;case"letters":this.units=Array.from(e.text);break;default:throw new Error(`Unsupported options basedOn: ${s}`)}this.maxLine=+e.maxLine||1,this.canvas.innerHTML=this.units.map(r=>`<span class='LinesEllipsis-unit'>${r}</span>`).join("");const n=this.putEllipsis(this.calcIndexes()),l=n>-1,a={clamped:l,text:l?this.units.slice(0,n).join(""):e.text};this.setState(a,e.onReflow.bind(this,a))}calcIndexes(){const e=[0];let s=this.canvas.firstElementChild;if(!s)return e;let n=0,l=1,a=s.offsetTop;for(;(s=s.nextElementSibling)&&(s.offsetTop>a&&(l++,e.push(n),a=s.offsetTop),n++,!(l>this.maxLine)););return e}putEllipsis(e){if(e.length<=this.maxLine)return-1;const s=e[this.maxLine],n=this.units.slice(0,s),l=this.canvas.children[s].offsetTop;this.canvas.innerHTML=n.map((d,u)=>`<span class='LinesEllipsis-unit'>${d}</span>`).join("")+`<wbr><span class='LinesEllipsis-ellipsis'>${this.props.ellipsis}</span>`;const a=this.canvas.lastElementChild;let r=v(a,2);for(;r&&(a.offsetTop>l||a.offsetHeight>r.offsetHeight||a.offsetTop>r.offsetTop);)this.canvas.removeChild(r),r=v(a,2),n.pop();return n.length}isClamped(){return this.clamped}render(){const{text:e,clamped:s}=this.state,n=this.props,{component:l,ellipsis:a,trimRight:r,className:d}=n,u=E(n,O);return o.createElement(l,m({className:`LinesEllipsis ${s?"LinesEllipsis--clamped":""} ${d}`,ref:g=>this.target=g},N(u,S)),s&&r?e.replace(/[\s\uFEFF\xA0]+$/,""):e,o.createElement("wbr",null),s&&o.createElement("span",{className:"LinesEllipsis-ellipsis"},a))}}c.defaultProps=x;const C="/assets/image-installation-45ed3c02.webp",T="/assets/image-production-0d571f60.webp",R="/assets/image-surfacecoating-ef8e45f3.webp";const k=()=>{const{t}=b(),e=j();return i.jsxs(w,{name:"services",className:"services-container",children:[i.jsx("div",{className:"image-container big",children:i.jsx("img",{src:y,alt:"Crane Services Overview",loading:"lazy"})}),i.jsxs("div",{className:"image-container small",onClick:()=>e("/maintenance"),children:[i.jsx("img",{src:R,alt:"Maintenance Service",loading:"lazy"}),i.jsxs("div",{className:"overlay-content prpl",children:[i.jsx("h2",{children:t("services.maintenance.heading")}),i.jsx(c,{text:t("services.maintenance.description"),maxLine:"4",ellipsis:" . . .",trimRight:!0,basedOn:"words",className:"service-p"}),i.jsx("div",{className:"services-button btn2",children:i.jsx("button",{"aria-label":t("services.buttonAriaLabel"),children:i.jsx(p,{icon:h,beat:!0})})})]})]}),i.jsxs("div",{className:"image-container small",onClick:()=>e("/production"),children:[i.jsx("img",{src:T,alt:"Production Service",loading:"lazy"}),i.jsxs("div",{className:"overlay-content orng",children:[i.jsx("h2",{children:t("services.production.heading")}),i.jsx(c,{text:t("services.production.description"),maxLine:"4",ellipsis:" . . .",trimRight:!0,basedOn:"letters",className:"service-p"}),i.jsx("div",{className:"services-button btn3",children:i.jsx("button",{"aria-label":t("services.buttonAriaLabel"),children:i.jsx(p,{icon:h,beat:!0})})})]})]}),i.jsxs("div",{className:"image-container small",onClick:()=>e("/installation"),children:[i.jsx("img",{src:C,alt:"Installation Service",loading:"lazy"}),i.jsxs("div",{className:"overlay-content prpl",children:[i.jsx("h2",{children:t("services.installation.heading")}),i.jsx(c,{text:t("services.installation.description"),maxLine:"4",ellipsis:" . . .",trimRight:!0,basedOn:"letters",className:"service-p"}),i.jsx("div",{className:"services-button btn2",children:i.jsx("button",{"aria-label":t("services.buttonAriaLabel"),children:i.jsx(p,{icon:h,beat:!0})})})]})]})]})};export{k as default};
